const aa={en:"English",ja:"日本語"},ba={bmp:"image/bmp",gif:"image/gif",jpe:"image/jpeg",jpeg:"image/jpeg",jpg:"image/jpeg",png:"image/png"},ca={avi:"video/x-msvideo",mp4:"video/mp4",mpeg:"video/mpeg"};function p(a){var c=null;if(a)if("string"==typeof a)switch(a.charAt(0)){case "#":c=document.getElementById(a.slice(1))}else a instanceof Event?c=a.srcElement||a.target:c=a;else c=window.event.srcElement||window.event.target;return c}function r(a,c){return(a=a.parentElement)?a.tagName==c?a:r(a,c):null}function da(){var a=document.getElementById("divPwd");return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)}function ea(a){if(a=p(a))a.style.display="none"}
function t(a){a=p(a);if(a){var c=a.getElementsByTagName("tbody")[0];return{da:a,G:c}}return null}function fa(a,c){if((a=a.nextElementSibling)&&c)switch(c.charAt(0)){case "#":for(c=c.slice(1);a&&a.id!=c;)a=a.nextElementSibling;break;default:for(c=c.toUpperCase();a&&a.tagName!=c;)a=a.nextElementSibling}return a}
function u(a,c,b){if((a=b?a.lastElementChild:a.previousElementSibling)&&c)switch(c.charAt(0)){case "#":for(c=c.slice(1);a&&a.id!=c;)a=a.previousElementSibling;break;default:for(c=c.toUpperCase();a&&a.tagName!=c;)a=a.previousElementSibling}return a}function ha(a,c,b){if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(a,c);else if(b)b.download=c,b.href=window.URL.createObjectURL(a),b.click();else throw Error("Element for download is not specified.");}
function ia(a){if(!a)return null;var c=a.charAt(0);if("?"==c||"#"==c)a=a.substring(1);var b={};a.split("&").forEach(function(d){var e=d.indexOf("=");0>e?b[decodeURIComponent(d)]="":b[decodeURIComponent(d.substring(0,e))]=decodeURIComponent(d.substring(e+1))});return b}function ja(){var a=ia(window.location.search),c=ia(window.location.hash);c&&(a=a?Object.assign(a,c):c);return a}
function v(a,c){var b=[],d;for(d in a)c?b.push(d.concat("=").concat(a[d])):b.push(encodeURIComponent(d).concat("=").concat(encodeURIComponent(a[d])));return 0<b.length?"?".concat(b.join("&")):""}
function ka(a){if(a)if(1024>a)var c="B";else 1048576>a?(c="KB",a=Math.round(a/102.4)/10):1073741824>a?(c="MB",a=Math.round(a/104857.6)/10):(c="GB",a=Math.round(a/1.073741824E8)/10);else c="B",a=0;var b=a.toString();a=b.indexOf(".");var d=b.split(""),e=[];0<=a?e.push(b.slice(a)):a=d.length;for(b=0;0<a;)3==b++&&(e.unshift(","),b=1),e.unshift(d[--a]);return e.join("").concat(c)}
function la(a){if(!a)return 0;var c=a.indexOf("-");if(0>c)return 0;c++;var b=a.indexOf("/",c);return b<=c?0:parseInt(a.slice(c,b),10)};function x(a){var c=CryptoJS.MD5(a);a=CryptoJS.kdf.OpenSSL.execute(a,8,4,c);a.iv.clamp();a.key.clamp();return a}
function y(a,c,b){var d=b;"string"==typeof b&&(d=x(b));if(!(d&&d.iv&&d.key))throw Error("Need iv and key. They can be generated by CryptoJS.kdf.OpenSSL.execute from password and salt.");b={mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7};Object.assign(b,d);a=a?CryptoJS.algo.AES.createEncryptor(b.key,b):CryptoJS.algo.AES.createDecryptor(b.key,b);c=a.process(c);c.concat(a.finalize());c.clamp();return c}
function ma(a){var c=Array(a.sigBytes);a=a.words;for(var b=0,d=0;d<a.length;d++){for(var e=a[d],f=b+4-1;f>=b;f--)f<c.length&&(c[f]=e&255),e>>=8;b+=4;if(b>=c.length)break}return c}
function na(){this.h=0;this.g=null;this.l=function(a,c){this.h=a;c&&c()};this.write=function(a,c){Array.isArray(a)?this.g=this.g?this.g.concat(a):a.concat():(this.g||(this.g=[]),this.g.push(a));c&&c()};this.cancel=function(a){a&&a(!1,!0)};this.u=function(){if(this.g&&0<this.g.length&&(this.g[0]instanceof ArrayBuffer||this.g[0]instanceof Uint8Array)){for(var a=0,c=0;c<this.g.length;c++)a+=this.g[c].byteLength;a=new Uint8Array(a);var b=0;for(c=0;c<this.g.length;++c){var d=this.g[c];d instanceof ArrayBuffer&&
(d=new Uint8Array(d));a.set(d,b);b+=d.byteLength}return a}return this.g};this.A=function(){var a=this.u();a instanceof Uint8Array||(a=new Uint8Array(a));return new Blob([a],{type:"application/octet-binary"})};this.download=function(a){var c=this.A();ha(c,a,null)};this.B=function(){return this.h}}
function oa(a){this.o=null;if(a._blob)if(a._blob instanceof Blob)this.o=a._blob;else throw Error("blob is not a Blob.");else throw Error("blob must be specified.");this.B=1600;a.V&&(this.B=a.V);this.g=0;this.u=this.l=null;this.K=function(c,b){if(c){if(c>=this.h())throw Error("offset can not be bigger than input size.");this.g=c}this.l=new FileReader;this.l.onload=function(d){d=d.target.result;this.u&&this.u(d,this)}.bind(this);b&&b()};this.A=function(){return this.g};this.h=function(){return this.o.size};
this.C=function(){return this.g>=this.h()};this.i=function(c){if(1!=this.l.readyState){var b=this.g;this.g=c?this.g+c:this.g+this.B;this.l.readAsArrayBuffer(this.o.slice(b,this.g))}};this.R=function(){this.o=this.l=null}}
function z(a,c){if(!a.pa)if(this.getSuperClass&&"Readable"==this.getSuperClass().name)this.super(c),this.h=1,c&&c.objectMode&&(this.O=!0);else throw Error("writer must be specified in no stream mode.");this.o=this.H=null;this.C=!0;this.g=null;this.l=a.pa;this.iv=this.key=null;this.i=0;this.A=null;this.B=this.u=0;this.speed="0B/s";a.na&&(this.C=!1);if(a.ha)this.g=a.ha;else throw Error("reader must be specified.");if(a.Z)c=null,c="string"==typeof a.Z?x(a.Z):a.Z,this.key=c.key,this.iv=c.iv;else throw Error("keycfg must be specified.");
this.start=function(b){if(b){if(this.C)throw Error("Can NOT set offset for encryption.");this.i=b;b-=b%16+16;0>b&&(b=0)}this.g.u=this.K.bind(this);this.g.K(b,function(){var d=16*Math.ceil((this.g.h()+1)/16);this.h||!this.l?this.J():this.l.l(d,this.J.bind(this))}.bind(this))};this.N=function(){Date.now()>this.u&&(this.speed=ka(1E3*(this.g.A()-this.B)/(Date.now()-this.u+1E3))+"/s",this.u=Date.now()+1E3,this.B=this.g.A());return this.speed};this._read=function(b){1==this.h?this.h=2:3==this.h&&(this.g.C()?
this.push(null):this.g.i(b))};this.push=function(b){return this.readable?(b&&!this.O?this.superCall("push",new Uint8Array(b)):this.superCall("push",b),!0):!1};this.J=function(){this.u=Date.now()+1E3;(this.B=this.i)?this.g.i(16):1==this.h?this.h=3:2==this.h?(this.h=3,this.push([])):this.g.i()};this.K=function(b){try{var d=new CryptoJS.lib.WordArray.init(b);if(!this.A){var e={iv:this.iv,mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7};this.i&&(e.iv=d,d=null);this.A=this.C?CryptoJS.algo.AES.createEncryptor(this.key,
e):CryptoJS.algo.AES.createDecryptor(this.key,e)}if(d){var f=ma(this.A.process(d));this.g.C()&&(f=f.concat(ma(this.A.finalize())));if(this.i<this.g.A()){var g=this.i-(this.g.A()-b.byteLength);0<g&&(f=f.slice(g))}else f=null;this.h?this.push(f):f?this.l&&this.l.write(f,function(){this.g.C()?this.qa():this.H?this.H()?this.g.i():this.l.cancel(function(h,k){this.qa(h,k)}.bind(this)):this.g.i()}.bind(this)):this.g.i();f=null}else this.h?2==this.h?(this.h=3,this.push([])):this.h=3:this.g.i()}catch(h){if(this.h)throw h;
this.qa(h)}};this.qa=function(b,d){this.g&&(this.g.R(),this.g=null);this.o&&(b?this.o(b):this.o(!1,d))}}function pa(a){const c=zb_require("readable-stream");z.super_!==c.Readable&&zb_inherits(z,c.Readable);this.h={highWaterMark:8E5};Object.assign(this.h,void 0);this.info=a;this.g=null;this.createReadStream=function(b){this.Ga();this.g=new z(this.info,this.h);var d=0;b&&b.start&&(d=b.start);this.g.start(d);return this.g};this.Ga=function(){this.g&&(this.g.destroy(),this.g=null)}}
function qa(a,c,b){a.u=function(d){c.write(d,function(){a.C()?b&&b():a.i()})};a.K(0,function(){c.l(a.h(),function(){a.i()})})};function ra(){this.o=!0;this.h=this.s=null;this.l=this.C=!1;this.i=-1;this.O=function(){return null!=this.s};this.N=function(a){if(this.o)try{var c=window.sessionStorage.getItem("language"),b=window.sessionStorage.getItem("relay_url"),d=window.sessionStorage.getItem("drive"),e=window.sessionStorage.getItem("skipLogin");window.sessionStorage.clear();c&&window.sessionStorage.setItem("language",c);b&&!a&&window.sessionStorage.setItem("relay_url",b);d&&!a&&window.sessionStorage.setItem("drive",d);e&&
!a&&window.sessionStorage.setItem("skipLogin",e)}catch(f){this.o=!1,console.error(f)}};this.u=function(a){var c=null;if(this.o)try{c=window.sessionStorage.getItem(a)}catch(b){this.o=!1,console.error(b)}return c};this.ua=function(a){var c=this.u("login_state");return c&&a==c?!0:!1};this.B=function(a,c){if(this.o)try{return window.sessionStorage.setItem(a,c.toString()),!0}catch(b){this.o=!1,console.error(b)}return!1};this.K=function(a){if(this.o)try{window.sessionStorage.removeItem(a)}catch(c){this.o=
!1,console.error(c)}};this.xa=function(){var a=this.u("language"),c=this.u("relay_url"),b=this.u("drive"),d=this.u("skipLogin");this.h={};a&&(this.h.language=a,this.R(a));c&&(this.h.ea=c,this.ta(c));b&&(this.h.P=b,this.za(b));d&&this.Aa(d)};this.Ja=function(){var a=this.g("drive");a||(this.h||this.xa(),a=this.h.P);return a};this.za=function(a){return this.S("drive",a)?(this.s[a]||(this.s[a]={}),!0):this.s?!1:!0};this.Aa=function(a){a?this.l=this.O():(this.l=!1,this.Ka()&&(this.C=!0));this.B("skipLogin",
this.l)};this.wa=function(a){var c=this.g("language");!c&&a&&this.h&&(c=this.h.language);return c};this.R=function(a){this.S("language",a)};this.fa=function(){var a=this.g("relay_url");!a&&this.h&&(a=this.h.ea);return a?a:""};this.ta=function(a){this.S("relay_url",a)};this.Na=function(a){if(window.indexedDB){var c=window.indexedDB.open("zgayard1946");c.onerror=function(){if(a)a("IndexedDB is not supported in your browser settings.");else throw Error("IndexedDB is not supported in your browser settings.");
};c.onupgradeneeded=function(b){b.target.result.createObjectStore("settings",{keyPath:"key"})};c.onsuccess=function(b){var d=b.target.result;b=d.transaction("settings","readwrite");b.oncomplete=function(){d.close();a&&a()};b.objectStore("settings").getAll().onsuccess=function(e){this.s={};e.target.result.forEach(function(f){this.s[f.key]=f.value}.bind(this));this.l=(e=this.s.drive)&&this.s[e]&&this.s[e].refresh_token?!0:!1}.bind(this)}.bind(this)}else if(a)a("IndexedDB is not supported in your browser settings.");
else throw Error("IndexedDB is not supported in your browser settings.");};this.La=function(a){var c=window.indexedDB.deleteDatabase("zgayard1946");c.onerror=function(){if(a)a("Failed to dropt IndexedDB.");else throw Error("Failed to dropt IndexedDB.");};c.onsuccess=function(){this.N(!0);this.s=null;this.l=!1;a?a():console.log("IndexedDB has been dropped.")}.bind(this)};this.ya=function(){this.C&&this.s&&(this.J(function(a){a.clear().onsuccess=function(){for(var c in this.s)a.put({key:c,value:this.s[c]})}.bind(this)}.bind(this)),
this.C=!1)};this.A=function(a){var c=this.g("drive");return c&&(c=this.s[c])?c[a]:null};this.Ka=function(){var a=this.g("drive");return a&&(a=this.s[a])&&a.refresh_token?(delete a.refresh_token,!0):!1};this.H=function(a,c,b){if(this.s){var d=this.g("drive");if(c)this.s[d]||(this.s[d]={}),this.s[d][a]=c;else if(this.s[d])delete this.s[d][a];else{b&&b instanceof Function&&b();return}b?(a=void 0,b instanceof Function&&(a=b),this.J(function(e){e.put({key:d,value:this.s[d]})}.bind(this),a)):this.C=!0}else b&&
b instanceof Function&&b()};this.va=function(a){this.N(!0);if(this.s){var c=this.g("drive");delete this.s[c].refresh_token;delete this.s.drive;this.J(function(b){b.put({key:c,value:this.s[c]});b.delete("drive")}.bind(this),a)}else a&&a()};this.Pa=function(a,c){var b=this.g("recent");b||(b=[]);0>this.i&&(b.push({drive:this.g("drive"),root:this.A("root"),played:[]}),this.i=b.length-1);var d=b[this.i];a={fid:a.I,time:a.$};0<=c&&c<d.played.length?d.played[c]=a:d.played.push(a);this.sa(b)};this.Ma=function(){var a=
this.g("recent");if(a&&0>this.i){var c=0;for(c=0;c<a.length;c++){var b=a[c];if(b.drive==this.g("drive")&&b.root==this.A("root")){this.i=c;break}}}if(0<=this.i){var d=[];a[this.i].played.forEach(function(e){d.push({I:e.fid,L:"",$:e.time})});return d}return null};this.Oa=function(a){var c=this.g("recent");if(c&&!(0>this.i)){var b=c[this.i].played;a<b.length&&(b.splice(a,1),this.sa(c))}};this.J=function(a,c){window.indexedDB.open("zgayard1946").onsuccess=function(b){var d=b.target.result;b=d.transaction("settings",
"readwrite");b.oncomplete=function(){d.close();c&&c()};b=b.objectStore("settings");a&&a(b)}};this.S=function(a,c){if(c){if(this.B(a,c),this.s&&this.s[a]!=c)return this.s[a]=c,this.C=!0}else if(this.K(a),this.s&&this.s[a])return delete this.s[a],this.C=!0;return!1};this.g=function(a){return this.s&&this.s[a]?this.s[a]:null};this.sa=function(a){this.s&&(this.s.recent=a);this.J(function(c){c.put({key:"recent",value:a})}.bind(this),void 0)}};var A={};function sa(a,c,b){this.m=a;this.v=c;this.g=b}function B(a,c){this.ea=null;this.J=c;this.h=null;this.g=a;this.super||(this.super=function(){})}function ta(a){null==a.ea&&(a.ea=a.g.fa());return a.ea}
function C(a,c){var b="POST",d=a.C().concat(encodeURI(c.U)),e=new XMLHttpRequest;c&&c.ga&&(b=c.ga);e.open(b,d,!0);c&&c.D?e.setRequestHeader("Authorization",c.D):c&&c.ia?(b="Bearer",c&&c.ka&&(b=c.ka),e.setRequestHeader("Authorization",b+" "+c.ia)):e.setRequestHeader("Authorization",a.h);if(c&&c.ba)for(var f in c.ba)e.setRequestHeader(f,c.ba[f]);c&&c.j&&(e.onload=function(g){g=g.target;4==g.readyState&&(401==g.status&&this.g.l&&!c.Sa?ua(this,c):c.j(g))}.bind(a));e.send(c.ma)}
function va(a,c,b){if(b&&(a.h=a.g.u("access_token"),a.h)){c();return}var d=a.g.l,e={};if((b=ja())&&b.token_type&&b.access_token){wa(a,b.token_type,b.access_token);if(b&&b.state)if(a.g.ua(b.state))a.g.K("login_state");else{c("Unauthorized access to this url.");return}c()}else if(b&&b.code?e.code=b.code:d&&(e.ra=a.g.A("refresh_token")),e.code||e.ra){if(b&&b.state)if(a.g.ua(b.state))a.g.K("login_state");else{c("Unauthorized access to this url.");return}xa(a,e,function(f){f&&f.token_type&&f.access_token?
(wa(this,f.token_type,f.access_token),d&&e.code&&f.refresh_token&&this.g.H("refresh_token",f.refresh_token),f.logout&&this.g.B("logout_url",f.logout),c()):f&&f.error?c("["+f.error+"] "+f.error_description):c("Unknown error occured when doing authorization.")}.bind(a))}else d&&(e.Ia=!0),xa(a,e,function(f){f&&f.url?(f.state&&(this.g.B("login_state",f.state)||(f.state=this.o())),f.logout&&this.g.B("logout_url",f.logout),window.location.href=f.url.concat("&state=".concat(encodeURIComponent(f.state)))):
f&&f.error?c("["+f.error+"] "+f.error_description):c("Unknown error occured when doing authorization.")}.bind(a))}
function ya(){var a=E;a.h=null;a.g.K("access_token");var c=a.g.u("logout_url");if(c)window.location.href=c;else{c=new FormData;c.append("drive_type",a.o());c.append("action","logout");var b=new XMLHttpRequest;b.open("POST",a.J,!0);b.withCredentials=!0;b.onload=function(d){d=d.target;4==d.readyState&&200==d.status&&(d=JSON.parse(d.responseText))&&d.logout&&(window.location.href=d.logout)};b.send(c)}}function za(a){var c=E;if(!a||!a.ca)throw Error("newname is not specified.");c.B(a)}
function Aa(a){var c=E;if(!a||!a.F)throw Error("parentid is not specified.");if(!a||!a.oa)throw Error("oldparentid is not specified.");c.B(a)}B.prototype.K=function(a,c){c&&c(!1)};B.prototype.S=function(){};function Ba(a,c){return new Ca(c,a)}function Da(a){return{T:a.status,M:a.responseText}}
function F(a,c,b,d,e,f,g,h){c={U:c,ga:b,j:function(k){var l=Da(k),m=!1;d&&k.status!=d&&(m=!0);if(m)if(e&&e.j)e.j(l);else throw Error(JSON.stringify(l));else h(l)}.bind(a)};Ea(e,c);f&&(c.ba=f);g&&(c.ma=g);C(a,c)}function G(a,c,b,d){F(a,c,"GET",200,b,null,null,function(e){d(e.M)})}function Ea(a,c){a.ka&&(c.ka=a.ka);a.ia&&(c.ia=a.ia);a.D&&(c.D=a.D)}function wa(a,c,b){a.h=c+" "+b;a.g.B("access_token",a.h)}
function xa(a,c,b){if(!c)throw Error("Options are not specified when auth onedrive.");var d=new FormData;d.append("drive_type",a.o());c.clientId&&d.append("client_id",c.clientId);c.Va&&d.append("redirect_uri",c.Va);c.Ta&&d.append("client_secret",c.Ta);c.code?d.append("code",c.code):c.ra?d.append("refresh_token",c.ra):c.Ia&&d.append("need_code",c.Ia);c=new XMLHttpRequest;c.open("POST",a.J,!0);c.withCredentials=!0;c.onload=function(e){e=e.target;if(4==e.readyState)if(200==e.status)b&&b(JSON.parse(e.responseText));
else throw Error(e.responseText+" ("+e.status+")");};c.send(d)}function ua(a,c){console.log("Retry to send ajax.");c&&(c.Sa=!0,va(a,function(b){b?console.error(b):(c.D=this.h,C(this,c))}.bind(a)))}
function Fa(a){a.la=B;if("function"===typeof Object.create)a.prototype=Object.create(B.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});else{var c=function(){};c.prototype=B.prototype;a.prototype=new c;a.prototype.constructor=a}a.prototype.getSuperClass||(a.prototype.getSuperClass=function(){return this.constructor.la});a.prototype.super||(a.prototype.super=function(...b){return this.constructor.la.call(this,...b)});a.prototype.superCall||(a.prototype.superCall=function(b,
...d){return b?this.constructor.la.prototype[b].call(this,...d):this.constructor.la.call(this,...d)})}
function Ga(a,c){this.P=c;this.o=a;this.C="";this.g=this.i=0;this.h=null;if(!this.o||!this.o.Y)throw Error("fnm is not specified.");this.l=function(b,d){this.i=b;this.P.R(this.o,b,function(e,f){if(e)this.C=e,d&&d(f);else throw console.error(f),Error(JSON.stringify(f));}.bind(this))};this.write=function(b,d){var e=null;if(this.h){if(this.h instanceof ArrayBuffer){var f=this.h.byteLength;0<f?(e=new Uint8Array(f+b.byteLength),e.set(new Uint8Array(this.h),0),e.set(new Uint8Array(b),f)):e=new Uint8Array(b)}else e=
0<this.h.length?new Uint8Array(this.h.concat(b)):new Uint8Array(b);this.h=null}else e=new Uint8Array(b);var g=new Blob([e],{type:"application/octet-binary"}),h="bytes "+this.g+"-";this.g+=g.size;h+=this.g-1+"/"+this.i;var k=0,l=function(){var m=new XMLHttpRequest;m.open("PUT",this.C,!0);m.setRequestHeader("Content-Range",h);m.onload=function(n){g=null;n=n.target;if(4==n.readyState){var w=this.P.N(n);if(-9==w)throw b=null,Error(n.responseText+" ("+n.status+")");if(-1!=w&&0!=w&&w<this.g){var q=b instanceof
ArrayBuffer?b.byteLength:b.length;q-=this.g-w;if(0<q){q=b.slice(q);b=null;if(this.g>=this.i){this.write(q,d);return}this.h=q;this.g=w}else throw b=null,Error("Can NOT continue to upload buffer.");}d&&d(n.responseText)}}.bind(this);m.onerror=function(){1>k?(k++,setTimeout(function(){l()},500)):g=b=null};m.send(g)}.bind(this);l()};this.cancel=function(b){this.P.K(this.C,b)};this.B=function(){return this.i}}
function Ca(a,c){this.P=c;this.H=a;this.url="";this.name=null;this.J=this.l=this.g=this.size=0;this.S=!1;this.O=16E3;a.V&&(this.O=a.V);this.B=this.o=0;this.u=null;this.K=function(b,d){if(this.S){this.l&&(this.J=this.l,this.l=0);if(b){if(b>=this.h())throw console.log("offset:"+b+",size:"+this.h()),Error("offset can not be bigger than input size.");this.g=b}else this.g=0;d&&d()}else this.P.O(this.H,function(e,f){this.S=!0;if(e){this.size=e._size;this.url=e.m;this.name=e.v;this.B="1"==e._type?1:0;if(b){if(b>=
this.h())throw Error("offset can not be bigger than input size.");this.g=b}d&&d()}else throw Error(f.M+" ("+f.T+")");}.bind(this))};this.A=function(){return this.g};this.h=function(){return this.size};this.C=function(){return this.g>=this.h()};this.i=function(b){b||(b=this.O);this.N(b)};this.R=function(){};this.N=function(b){if(!b||!this.l){if(b)this.l=b;else if(this.l)b=this.l;else throw Error("size must be specified.");if(!this.J){var d=this.g+b-1,e=function(){var f=new XMLHttpRequest;10<=this.o?
(f.open("GET",ta(this.P),!0),f.setRequestHeader("Zb-Url",this.url)):f.open("GET",this.url,!0);this.P.S(f,this.H.D);f.setRequestHeader("Range","bytes="+this.g+"-"+d);f.responseType="arraybuffer";f.onload=function(g){if(this.J)this.J=0,this.l&&this.N();else if(this.l=0,g=g.target,4==g.readyState)if(this.o=10>this.o?1:11,200==g.status||206==g.status){2==this.B&&(this.B=1);var h=parseInt(g.getResponseHeader("content-length"),10);h?this.g+=h:this.g=(h=la(g.getResponseHeader("content-range")))?h+1:d+1;
200==g.status&&this.g<this.h()?this.g=this.h():this.g>this.h()&&(this.g=this.h());this.u&&this.u(g.response,this);g.response=null}else if(401==g.status&&1==this.B)console.log("Retry auth."),this.B=2,va(this.P,function(k){k?console.error(k):(this.H.D&&delete this.H.D,e())}.bind(this));else throw Error(g.responseText+" ("+g.status+")");}.bind(this);f.onerror=function(){if(0==this.o&&ta(this.P))this.o=10,e();else if(1==this.o||11==this.o)this.o++,setTimeout(function(){e()},500)}.bind(this);f.send()}.bind(this);
e()}}}};function Ha(a,c){this.super(a,c);this.o=function(){return"onedrive"};this.H=function(b){G(this,"/me/drive",b,function(d){b&&b.j&&(d=JSON.parse(d).quota,b.j(!1,{Ea:d.deleted,Da:d.total,Fa:d.used}))})};this.l=function(b){var d="/me/drive/root/children";if(b){if(b._fname){var e=function(f){var g={aa:"",j:function(h,k){if(b&&b.j)h?b.j(h):(h=[],k&&h.push(k),b.j(!1,h));else if(h)throw Error(JSON.stringify(h));}};Ea(b,g);this.i(g,f)}.bind(this);b.F?(d={aa:b.F,j:function(f,g){if(f)if(b&&b.j)b.j(f);else throw Error(JSON.stringify(f));
else e(g.Ra.concat("/").concat(g.v).concat("/").concat(b._fname))}},Ea(b,d),this.i(d)):e("/drive/root:/".concat(b._fname));return}b.F&&(d="/me/drive/items/"+b.F+"/children")}G(this,d.concat(v({select:"id,name,parentReference,lastModifiedDateTime,size,folder,file"},!0)),b,function(f){if(b&&b.j){var g=[];f&&JSON.parse(f).value.forEach(function(h){g.push(this.W(h))},this);b.j(!1,g)}}.bind(this))};this.u=function(b){this.i(b)};this.A=function(b){if(!b||!b.L)throw Error("Name of new folder is not specified.");
var d="/me/drive/root/children";b.F&&(d="/me/drive/items/"+b.F+"/children");var e=JSON.stringify({name:b.L,folder:{},"@microsoft.graph.conflictBehavior":"fail"});F(this,d,"POST",201,b,{"Content-Type":"application/json;charset=UTF-8"},e,function(f){b&&b.j&&(f=this.W(JSON.parse(f.M)),b.j(!1,f))}.bind(this))};this.delete=function(b){var d="/me/drive/items/".concat(b.I);F(this,d,"DELETE",204,b,null,null,function(){b&&b.j&&b.j(!1)})};this.R=function(b,d,e){d={U:"/me",ga:"POST",D:b.D,ba:{"Content-Type":"application/json;charset=UTF-8",
"Cache-Control":"no-cache",Pragma:"no-cache"},j:function(f){f=Da(f);var g="";200<=f.T&&299>=f.T&&(g=JSON.parse(f.M).uploadUrl);e(g,f)}.bind(this)};d.U=b.X?"/me/drive/items/"+b.X+":/":d.U+"/drive/root:/";d.U+=b.Y;d.U+=":/createUploadSession";d.ma=JSON.stringify({item:{"@microsoft.graph.conflictBehavior":"replace",name:b.Y}});C(this,d)};this.N=function(b){if(0<=[200,201].indexOf(b.status))return-1;if(0>[202].indexOf(b.status))return-9;if((b=JSON.parse(b.responseText).nextExpectedRanges)&&b.length){var d=
b[0].indexOf("-");if(0<d)return parseInt(b[0].substring(0,d),10)}return 0};this.K=function(b,d){var e=new XMLHttpRequest;e.open("DELETE",b,!0);e.onload=function(f){f=f.target;if(4==f.readyState){var g={T:f.status,M:f.responseText};200<=f.status&&299>=f.status?d&&d(!1,g):(console.log(f.responseText+" ("+f.status+")"),d&&d(g))}}.bind(this);e.send()};this.O=function(b,d){var e="/me/drive/items/".concat(b.m),f={j:function(g,h){var k=null;h&&!g&&(h=JSON.parse(h),k={m:h["@microsoft.graph.downloadUrl"],
v:h.name,_size:h.size});d(k,g)}};b.D&&(f.D=b.D);G(this,e.concat(v({select:"name,size,@microsoft.graph.downloadUrl"},!0)),f,function(g){f.j(!1,g)})};this.C=function(){return"https://graph.microsoft.com/v1.0"};this.B=function(b){if(!b||!b.I)throw Error("fid is not specified.");var d="/me/drive/items/".concat(b.I),e={};b.ca&&(e.name=b.ca);b.F&&(e.parentReference={id:b.F});e=JSON.stringify(e);if("{}"==e)throw Error("No property to be updated.");F(this,d,"PATCH",200,b,{"Content-Type":"application/json;charset=UTF-8"},
e,function(){b&&b.j&&b.j(!1)})};this.i=function(b,d){var e="";e=d?d.startsWith("/me")?d:"/me".concat(d):"/me/drive/items/"+b.aa;F(this,e.concat(v({select:"id,name,parentReference,lastModifiedDateTime,size,folder,file"},!0)),"GET",0,b,null,null,function(f){if(b&&b.j)200==f.T?(f=this.W(JSON.parse(f.M)),b.j(!1,f)):404==f.T&&d?b.j(!1):b.j(f);else if(200!=f.T)throw Error(JSON.stringify(f));}.bind(this))};this.W=function(b){var d={m:b.id,v:b.name,_size:b.size,Ca:b.lastModifiedDateTime,Ra:b.parentReference.path,
_parentId:b.parentReference.id,_type:"0"};b.folder?d._type="1":b.file&&(d._type="2");return d}}Fa(Ha);A.onedrive=new sa("onedrive","Microsoft OneDrive",Ha);function Ia(a,c){this.super(a,c);this.o=function(){return"googledrive"};this.H=function(b){var d=this.i("/about").concat(v({fields:"storageQuota"}));G(this,d,b,function(e){b&&b.j&&(e=JSON.parse(e).storageQuota,b.j(!1,{Ea:e.usageInDriveTrash,Da:e.limit,Fa:e.usage}))})};this.l=function(b){var d=this.i("/files"),e="'"+(b.F?b.F:"root")+"' in parents";b._fname&&(e=e.concat(" and name = '"+b._fname+"'"));G(this,d.concat(v({fields:"files(id,name,mimeType,parents,modifiedTime,size)",q:e},!0)),b,function(f){if(b&&
b.j){var g=[];JSON.parse(f).files.forEach(function(h){g.push(this.W(h))},this);b.j(!1,g)}}.bind(this))};this.u=function(b){var d=this.i("/files/").concat(b.aa);G(this,d.concat(v({fields:"id,name,mimeType,parents,modifiedTime,size"},!0)),b,function(e){b&&b.j&&(e=this.W(JSON.parse(e)),b.j(!1,e))}.bind(this))};this.A=function(b){if(!b||!b.L)throw Error("Name of new folder is not specified.");var d=this.i("/files");F(this,d,"POST",200,b,{"Content-Type":"application/json;charset=UTF-8"},JSON.stringify({mimeType:"application/vnd.google-apps.folder",
name:b.L,parents:[b.F?b.F:"root"]}),function(e){b&&b.j&&(e=this.W(JSON.parse(e.M)),b.j(!1,e))}.bind(this))};this.delete=function(b){var d=this.i("/files/").concat(b.I);F(this,d,"DELETE",204,b,null,null,function(){b&&b.j&&b.j(!1)})};this.R=function(b,d,e){var f=function(h){var k={},l="POST",m="/files?uploadType=resumable";h?(l="PATCH",m="/files/"+h+"?uploadType=resumable"):(k.name=b.Y,b.X&&(k.parents=[b.X]));h={U:"/upload".concat(this.i(m)),ga:l,D:b.D,ba:{"X-Upload-Content-Length":d,"X-Upload-Content-Type":"application/octet-stream",
"Content-Type":"application/json; charset=UTF-8"},ma:JSON.stringify(k),j:function(n){var w=Da(n),q="";200<=w.T&&299>=w.T&&(q=n.getResponseHeader("location"));e(q,w)}.bind(this)};C(this,h)}.bind(this),g={j:function(h,k){h?e("",h):0<k.length?f(k[0].m):f()},_fname:b.Y,D:b.D};b.X&&(g.F=b.X);this.l(g)};this.N=function(b){if(0<=[200,201].indexOf(b.status))return-1;if(0>[308].indexOf(b.status))return-9;if(b=b.getResponseHeader("range")){var d=b.indexOf("-");if(0<d)return parseInt(b.slice(d+1),10)+1}return 0};
this.O=function(b,d){var e=this.i("/files/").concat(b.m),f={aa:b.m,j:function(g,h){var k=null;h&&!g&&(k=h,k.m=this.C().concat(encodeURI(e)).concat(v({alt:"media"})),this.g.l&&(k._type="1"));d(k,g)}.bind(this)};b.D&&(f.D=b.D);this.u(f)};this.S=function(b,d){d?b.setRequestHeader("Authorization",d):b.setRequestHeader("Authorization",this.h?this.h:"")};this.C=function(){return"https://www.googleapis.com"};this.B=function(b){var d=!0,e=this.i("/files/").concat(b.I);b.oa&&b.F&&(e=e.concat(v({addParents:b.F,
removeParents:b.oa})),d=!1);var f={};b.ca&&(f.name=b.ca,d=!1);if(d)throw Error("No property to be updated.");F(this,e,"PATCH",200,b,{"Content-Type":"application/json;charset=UTF-8"},JSON.stringify(f),function(){b&&b.j&&b.j(!1)})};this.i=function(b){return"/drive/v3".concat(b)};this.W=function(b){var d={m:b.id,v:b.name,_size:b.size,Ca:b.modifiedTime,_type:"2"};b.parents&&0<b.parents.length&&(d._parentId=b.parents[0]);this.fa(b.mimeType)&&(d._type="1");return d};this.fa=function(b){return"application/vnd.google-apps.folder"==
b}}Fa(Ia);A.googledrive=new sa("googledrive","Google Drive",Ia);function Ja(a,c){var b=H;this.g=this.h=null;this.A=b;this.i=1;this.u=a;this.l=c;this.o=function(){var d=new z({na:1==this.i,Z:this.A,ha:this.h,pa:this.g});d.H=function(){var e={_type:1,_wtype:this.i,_speed:d.N(),_pos:this.h.A(),_size:this.h.h()};this.l(e);return this.u()?!1:!0}.bind(this);d.o=function(e,f){var g={_type:2,_wtype:this.i,_size:this.g.B()};e?g._err=e.message||e.Xa:f?g._type=3:this.g.A&&(g._blob=this.g.A());this.l(g)}.bind(this);d.start()};this.Ua=function(d){var e=E;this.i=1;this.h=Ba(e,
{m:d,V:16E5});this.g=new na;this.o()};this.Wa=function(d,e,f){var g=E;this.i=2;this.h=new oa({_blob:e,V:16E5});this.g=new Ga({Y:d,X:f},g);this.o()}};var I=null,E=null,J=[],K=0,H=null,L=[],M=0,N=[];function O(a){var c=document.getElementById("spanError");"string"===typeof a?window.msgs&&a&&window.msgs[a]?c.innerText=window.msgs[a]:c.innerText=a:a&&(c.innerText=JSON.stringify(a));document.getElementById("spanInfo").style.display="none";c.style.display=a?"block":"none"}
function P(a){var c=document.getElementById("spanInfo");window.msgs&&a&&window.msgs[a]?c.innerText=window.msgs[a]:c.innerText=a;document.getElementById("spanError").style.display="none";c.style.display=a?"block":"none"}
function Q(a){var c=document.getElementById("spanNotify");window.msgs&&a&&window.msgs[a]?c.innerText=window.msgs[a]:c.innerText=a;a&&(M&&(clearTimeout(M),M=0),c.style.top=(document.documentElement.scrollTop||document.body.scrollTop)+20+"px",c.style.display="",M=setTimeout(function(){c.style.display="none";M=0},3E3))}
function R(a,c){function b(e){Ka--;"error"==e.type&&(R.Ha=!0);if(0==Ka){var f=R.Ha;delete R.Ha;c&&c(f)}e=e.target||e.srcElement;e.hasAttribute("temporary")&&e.remove()}Ka++;var d=document.createElement("script");d.setAttribute("type","text/javascript");d.setAttribute("src",a);d.setAttribute("temporary","1");d.addEventListener("load",b);d.addEventListener("error",b);document.body.appendChild(d)}var Ka=0;
function La(a){I.O()&&(document.getElementById("chkSaveKey").checked?Ma(function(c){var b="";c&&c.lsauth&&(b=y(!0,a,c.lsauth).toString(CryptoJS.enc.Base64url));I.H("key_words",b,!0)}):I.H("key_words",null,!0))}function Na(){I.va(function(){ya()})}
function Ma(a){var c=new FormData;c.append("drive_type","localstorage");var b=new XMLHttpRequest;b.open("POST","https://zgayard.f5.si/grantauth.php",!0);b.withCredentials=!0;b.onload=function(d){var e=d.target;4==e.readyState&&(d=null,200==e.status?(e=JSON.parse(e.responseText))?e.error?O("["+e.error+"] "+e.error_description):e.lsauth?d=e:O("lsFailed"):O("lsFailed"):O(e.responseText+" ("+e.status+")"),a&&a(d))};b.send(c)}
function Oa(a){var c=document.getElementById("divSet"),b=document.getElementById("selDrive"),d=fa(b,"input");a?(b.disabled=!0,d.style.display="",c.setAttribute("cancelAll","1"),S(),document.getElementById("divHeader").style.display="",document.getElementById("tblst").style.display="",document.getElementById("tblQueue").style.display="",document.getElementById("divAction").style.display="",document.getElementById("divHistory").style.display=""):(b.disabled=!1,d.style.display="none");c.style.display=
"block"}function Pa(a){if(!window.msgs||window.msgs.lang!=a){var c=window.msgs;window.msgs=null;R("msg/"+a+".js",function(){window.msgs?(window.msgs.lang=a,I.R(a),Qa()):(console.log("Message file of '"+a+"' is missing."),c?window.msgs=c:R("msg/en.js",function(){window.msgs?(window.msgs.lang="en",I.R(window.msgs.lang),Qa()):O("Message file is missing.")}))})}}
function Qa(){var a=window.msgs;a.spanConfNotice=a.spanConfNotice.replace("{0}","_zgayard_.conf");for(var c=document.getElementsByTagName("*"),b=0;b<c.length;b++){var d=c[b],e=null;d.hasAttribute("wordid")&&(e=a[d.getAttribute("wordid")]);!e&&d.id&&(e=a[d.id]);e&&("button"==d.type?d.value=e:d.innerText=e);d.hasAttribute("tid")&&(e=a[d.getAttribute("tid")])&&(d.title=e)}c=document.getElementById("seLang");for(b in aa)d=document.createElement("option"),d.value=b,d.innerText=aa[b],b==a.lang&&(d.selected=
!0),c.appendChild(d)}function Ra(a){P("loading");(a=A[a])?(E=new a.g(I,"https://zgayard.f5.si/grantauth.php"),va(E,function(c){c?I.va(function(){O(window.msgs.loginFailed.replace("{0}",c))}):(I.ya(),E.l({j:function(b,d){b?O(JSON.stringify(b)):0==d.length?S(!0,!0):Sa(d[0].m)},_fname:"_zgayard_.conf"}))},!0)):O("unkDrive")}
function Ta(){var a=!1;document.getElementById("selDrive").disabled||(a=I.za(document.getElementById("selDrive").value));I.Aa(document.getElementById("chkSkipLogin").checked);I.ta(document.getElementById("txtRelay").value);Pa(document.getElementById("seLang").value);a?(I.N(),Ra(document.getElementById("selDrive").value)):I.ya();Ua()}
function Ua(a){var c=document.getElementById("divSet"),b=!1;a&&"boolean"===typeof a?b=!0:"1"==c.getAttribute("cancelAll")&&(b=!0);b&&(document.getElementById("divPwd").style.display="",document.getElementById("divHeader").style.display="block",document.getElementById("tblst").style.display="block",document.getElementById("tblQueue").style.display="block",document.getElementById("divAction").style.display="block",a=document.getElementById("divHistory"),a.getElementsByTagName("a")[0].innerText&&(a.style.display=
"block"),c.removeAttribute("cancelAll"));c.style.display=""}
function Va(a,c){var b=document.getElementById("divPwd"),d="none";a?(b.setAttribute("addroot","1"),d="block"):b.removeAttribute("addroot");a=b.getElementsByTagName("*");for(b=0;b<a.length;b++){var e=a[b];e.classList.contains("addroot")?e.style.display=d:e.classList.contains("firstep")?e.style.display="none"!=d&&c?"block":"none":e.classList.contains("chgroot")&&(e.style.display="none"==d?"block":"none");"password"==e.type&&(e.value="")}Wa("#lblKeyFile")}
function Xa(){if(confirm(window.msgs.delConfirm)){P("deleting");var a=document.getElementById("selRoot"),c=a.value,b=-1;J.forEach(function(f,g){f.root==c&&(b=g)});var d=function(){if(b==K)window.location.reload();else{var f=a.getElementsByTagName("option"),g;for(g=0;g<f.length;g++){var h=f[g];if(h.value==c){a.removeChild(h);break}}P();Q("delrootDone")}};if(0<=b){var e=function(f){E.delete({j:function(g){g?O(g.M):(J.splice(b,1),Ya(d))},I:f})};E.l({j:function(f,g){f?console.error(f):0==g.length?(J.splice(b,
1),Ya(d)):e(g[0].m)},_fname:J[b].root})}else d()}}function S(a,c){var b=document.getElementById("divPwd");Va(a,c);b.style.display="block";P()}function Za(){"1"==document.getElementById("divSet").getAttribute("cancelAll")?Ua(!0):document.getElementById("divPwd").style.display=""}function $a(){var a=p(),c=a.previousElementSibling.cloneNode();c.value="";a.parentElement.insertBefore(c,a)}
function Wa(a){a=p(a).parentElement.getElementsByTagName("input");for(var c=a.length-1;0<c;c--)a[c].remove();a[0].value=""}
function ab(){P("loading");for(var a=document.getElementById("divPwd").hasAttribute("addroot"),c=document.getElementById("pwdKey").value,b=document.getElementById("divfKey").getElementsByTagName("input"),d=[],e=0;e<b.length;e++)for(var f=b[e].files,g=0;g<f.length;g++)d.push(f[g]);if(c||0<d.length){if(a){b=document.getElementById("pwdKeyRe").value;if((c||b)&&c!=b){O("diffPwd");return}if(!document.getElementById("txtRoot").value){O("noRoot");return}}var h=null;c&&(h=CryptoJS.enc.Utf8.parse(c));if(0<
d.length){e=0;var k=new FileReader,l=CryptoJS.algo.HMAC.create(CryptoJS.algo.SHA512,"zb12");k.g=function(){k.readAsArrayBuffer(d[e].slice(0,1023));e++};k.onload=function(m){l.update(new CryptoJS.lib.WordArray.init(m.target.result));e<d.length?k.g():(h?h.concat(l.finalize()):h=l.finalize(),h.clamp(),cb(h,a))};k.g()}else cb(h,a)}else O("noPwd")}
function cb(a,c){var b=CryptoJS.HmacMD5(a,"zgayard").toString(CryptoJS.enc.Base64url).slice(0,8),d=null;if(c){var e={root:document.getElementById("txtRoot").value};document.getElementById("chkEncryFname").checked&&(e.encfname=!0);var f=!1;J.forEach(function(k){k.root==e.root&&(f=!0)});f?O("dupRoot"):(I.H("root",e.root),La(a),d=CryptoJS.lib.WordArray.random(1024),H=x(d),e.iv=b.concat(db(!0,d,a)),K=J.length,J.push(e),eb(e,!0),Ya())}else{var g=document.getElementById("selRoot").value,h=-1;J.forEach(function(k,
l){k.root==g&&(h=l)});0<=h&&J[h].iv&&b==J[h].iv.slice(0,b.length)?(K=h,I.H("root",g),La(a),d=db(!1,J[K].iv.slice(b.length),a),H=x(d),fb()):da()?O("pwdError"):S()}}function db(a,c,b){b=x(b);var d=null;a?d=c:d=CryptoJS.enc.Base64url.parse(c);c=y(a,d,b);return a?c.toString(CryptoJS.enc.Base64url):c}
function Ya(a){var c=CryptoJS.enc.Utf8.parse(JSON.stringify(J));c=new Blob([new Uint8Array(ma(c))],{type:"application/octet-binary"});c=new oa({_blob:c,V:262144});var b=new Ga({Y:"_zgayard_.conf"},E);qa(c,b,a||fb)}
function Sa(a){var c=new na;qa(Ba(E,{m:a}),c,function(){var b=new CryptoJS.lib.WordArray.init(c.u());b=JSON.parse(b.toString(CryptoJS.enc.Utf8));Array.isArray(b)?J=b:J.push(b);var d=-1,e=I.A("root"),f=document.getElementById("selRoot");f.innerHTML="";J.forEach(function(h,k){var l=!1;e&&h.root==e&&(l=!0);eb(h,l,f);l&&(d=k)});if(0<=d){K=d;var g=I.A("key_words");g?Ma(function(h){h&&h.lsauth&&!h.newkey?(h=y(!1,CryptoJS.enc.Base64url.parse(g),h.lsauth),cb(h)):S()}):S()}else K=0,S()})}
function eb(a,c,b){b=b||document.getElementById("selRoot");var d=document.createElement("option");d.value=a.root;d.innerText=a.root;c&&(d.selected=!0);b.appendChild(d)}function gb(){confirm(window.msgs.dropConfirm)&&I.La(function(a){a?O(a):ya()})};function hb(a){if(J[K].encfname){var c=H;a=CryptoJS.enc.Utf8.parse(a);c=y(!0,a,c).toString(CryptoJS.enc.Base64url)}else c=a;return c}function ib(a){if(J[K].encfname)try{var c=H,b=CryptoJS.enc.Base64url.parse(a);return y(!1,b,c).toString(CryptoJS.enc.Utf8)}catch(d){console.error(d)}return a}
function jb(){I=new ra;I.Na(function(a){a&&O("IndexedDB is not supported in your browser settings.");a=I.wa();a||(I.xa(),a=I.wa(!0));if(!a){a=navigator.language;var c=a.indexOf("-");0<c&&(a=a.substring(0,c))}Pa(a);document.getElementById("txtRelay").value=I.fa();a=I.Ja();c=document.getElementById("selDrive");var b=ja(),d;for(d in A){var e=document.createElement("option");e.value=d;e.innerText=A[d].v;a?a==d&&(e.selected=!0):b&&b.state==A[d].m&&(a=d,e.selected=!0);c.appendChild(e)}I.O()&&(document.getElementById("divSkipLogin").style.display=
"block",document.getElementById("divSaveKey").style.display="block",I.l&&(document.getElementById("chkSkipLogin").checked=!0),I.A("key_words")&&(document.getElementById("chkSaveKey").checked=!0));a?Ra(a):Oa()})}function fb(){Za();kb(function(){var a=J[K].root;E.l({_fname:a,j:function(c,b){c?O(JSON.stringify(c)):b&&0<b.length?(L=[],L.push(b[0]),T(),lb()):E.A({L:a,j:function(d,e){d?O(JSON.stringify(d)):(L=[],L.push(e),T())}})}})})}
function kb(a){E.H({j:function(c,b){if(c)O(c);else{c=document.getElementById("spanQuota");c.setAttribute("total",b.Da);c.setAttribute("trash",b.Ea);c=b.Fa;b=document.getElementById("spanQuota");"string"==typeof c&&(c=parseInt(c,10));var d=parseInt(b.getAttribute("total"),10),e=parseInt(b.getAttribute("trash"),10),f=0;b.hasAttribute("used")&&(f=parseInt(b.getAttribute("used"),10));f+=c;b.setAttribute("used",f);c=d-f-e;b.innerText=window.msgs.quotaInfo.replace("{0}",A[E.o()].v).replace("{1}",ka(c));
a&&a()}}})}function lb(){var a=document.getElementById("divHistory");a.style.display="";if(N=I.Ma()){var c=a.getElementsByTagName("div")[0],b=function(d){if(d>=N.length)0<N.length&&(a.style.display="block");else{var e=N[d];E.u({aa:e.I,j:function(f,g){f||(g._parentId&&(e.L=g._parentId),mb(d,ib(g.v),c),b(d+1))}})}};b(0)}}
function mb(a,c,b){b||(b=document.getElementById("divHistory").getElementsByTagName("div")[0]);var d=N[a],e=b.getElementsByTagName("p");if(a<e.length)a=e[a].getElementsByTagName("a")[0];else{e=document.createElement("p");var f=document.createElement("span");f.title=window.msgs.spanDelHistory;f.appendChild(U("cmulti","red"));f.addEventListener("click",nb);e.appendChild(f);a=document.createElement("a");a.href="#";a.addEventListener("click",ob);e.appendChild(a);f=document.createElement("span");f.title=
window.msgs.spanPlayNext;f.appendChild(U("next","fblue"));f.addEventListener("click",pb);e.appendChild(f);b.appendChild(e)}a.innerText=c;a.setAttribute("fid",d.I);d.L&&a.setAttribute("parentId",d.L);if(d.$){a.setAttribute("time",d.$);c=a;b=a.innerText.concat(" [");a=b.concat;d=Math.floor(d.$);e=Math.floor(d/3600);d-=3600*e;f=Math.floor(d/60);d-=60*f;var g=[];0<e?(g.push(e.toString()),g.push("0".concat(f).slice(-2))):g.push(f.toString());g.push("0".concat(d).slice(-2));c.innerText=a.call(b,g.join(":")).concat("]")}}
function T(a,c,b,d){var e=0;if(!b){if(0>=L.length)return;e=L.length-1;b=L[e]}var f="#tblst";c&&(f="#tblFolder");f=t(f);var g=f.da,h=f.G;h.innerHTML="";P("loading");f=g.getElementsByTagName("th")[0];var k=u(f,"a",!0);a?k&&k.classList.remove("fnormal"):(k&&(0!=e||c?k.classList.add("fnormal"):f.innerHTML=""),qb(f,b,e));E.l({j:function(l,m){if(l)O(l);else{var n=[],w=0;m.forEach(function(q){var D=0,bb=n.length;q.v=ib(q.v);for(V(q)?bb=w++:D=w;D<bb&&!(q.v<n[D].v);)D++;D<n.length?n.splice(D,0,q):n.push(q)});
n.forEach(function(q){c&&!V(q)||rb(h,q,c)});c||(document.getElementById("divHeader").style.display="block",g.style.display="block",document.getElementById("divAction").style.display="block",l=document.getElementById("chkAll"),l.checked=!1,l.style.display=0<m.length?"":"none");d&&d(n);P()}},F:b.m})}
function qb(a,c,b,d){var e=document.createElement("a"),f=document.createElement("span");e.href="#";e.innerText=c.v;e.setAttribute("uid",c.m);e.setAttribute("idx",b);e.addEventListener("click",sb);d&&e.classList.add("fnormal");a.appendChild(e);f.innerText=">";a.appendChild(f)}
function U(a,c){var b=document.createElementNS("http://www.w3.org/2000/svg","svg"),d=document.createElementNS("http://www.w3.org/2000/svg","use");c&&b.classList.add(c);d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href","#".concat(a));b.appendChild(d);return b}
function rb(a,c,b){var d=document.createElement("tr"),e=document.createElement("td"),f=document.createElement("a"),g=c.v;if(!b){var h=document.createElement("input"),k=document.createElement("span"),l=document.createElement("span");h.type="checkbox";e.appendChild(h);V(c)?k.appendChild(U("folder","folder")):(h=tb(g),ba[h]?k.appendChild(U("image","fgreen")):ca[h]?k.appendChild(U("video","fpink")):k.appendChild(U("file","fyellow")));k.addEventListener("click",ub);e.appendChild(k)}f.innerText=g;f.href=
"#";f.setAttribute("uid",c.m);f.setAttribute("utype",c._type);f.addEventListener("click",W);e.appendChild(f);b||(l.appendChild(U("edit")),l.classList.add("dropbtn"),l.addEventListener("click",vb),e.appendChild(l));d.appendChild(e);b||(e=document.createElement("td"),e.innerText=ka(c._size),e.setAttribute("class","right"),d.appendChild(e),b=e=document.createElement("td"),(c=c.Ca)?(c=new Date(c),f=[],g=[],f.push(c.getFullYear()),f.push(c.getMonth()+1),f.push(c.getDate()),g.push("0".concat(c.getHours()).slice(-2)),
g.push("0".concat(c.getMinutes()).slice(-2)),g.push("0".concat(c.getSeconds()).slice(-2)),c=f.join("-")+" "+g.join(":")):c="",b.innerText=c,d.appendChild(e));a.appendChild(d)}function ub(a){a=p(a);"SPAN"!=a.tagName&&(a=r(a,"SPAN"));(a=u(a,"INPUT"))&&a.click()}
function W(a,c){if(!a||a instanceof Event){window.event.preventDefault();c=p();if(V(c)){r(c,"TABLE").getAttribute("onlyfolder")?T(!1,!0,{m:c.getAttribute("uid"),v:c.innerText}):(L.push({m:c.getAttribute("uid"),v:c.innerText}),T());return}var b=t("#tblFileDetail").G;var d=t("#tblst").G.rows;var e=r(c,"TR").rowIndex-d[0].rowIndex}else{b=t("#tblFileDetail").G;d=t("#tblst").G.rows;e=b.rows[0].getAttribute("rowidx");if(1==a)if(0<e)e--;else{if(c)return;e=d.length-1}else if(e++,e>=d.length){if(c)return;
e=0}c=d[e].getElementsByTagName("a")[0];if(V(c)){b.rows[0].setAttribute("rowidx",e);W(a);return}}b.rows[0].cells[1].getElementsByTagName("span")[0].innerText=c.innerText;b.rows[0].setAttribute("uid",c.getAttribute("uid"));b.rows[0].setAttribute("rowidx",e);b.rows[1].cells[0].innerText=window.msgs.thSize+": "+d[e].cells[1].innerText;wb(c.getAttribute("uid"),c.innerText)}
function sb(){window.event.preventDefault();var a=p(),c=r(a,"TABLE"),b=c.getElementsByTagName("th")[0];if(c.getAttribute("onlyfolder")){c=0;for(var d=a.nextElementSibling;d;)d.tagName==a.tagName&&c++,d=d.nextElementSibling;if(0<c)for(d=0;d<c;d++)b.removeChild(b.lastElementChild),b.removeChild(b.lastElementChild);T(!0,!0,{v:a.innerText,m:a.getAttribute("uid")})}else a=parseInt(a.getAttribute("idx"),10),a<L.length-1&&L.splice(a+1).forEach(function(){b.removeChild(b.lastElementChild);b.removeChild(b.lastElementChild)}),
T(!0)}function V(a){return"1"==(a instanceof HTMLElement?a.getAttribute("utype"):"string"==typeof a?a:a._type)}function tb(a){var c=a.lastIndexOf("."),b="";0<=c&&(b=a.slice(c+1));return b.toLowerCase()}function xb(){for(var a=p().checked,c=t("#tblst").G.getElementsByTagName("input"),b=0;b<c.length;b++)"checkbox"==c[b].type&&(c[b].checked=a)}
function yb(a){var c=document.getElementById("divGround");1==a?(c.style.backgroundColor="transparent",document.getElementById("tblFileDetail").parentElement.style.display="none"):(c.style.backgroundColor="",document.getElementById("tblFileDetail").parentElement.style.display="",2==a?(document.getElementById("spanGroundTitle").innerText=window.msgs.gtlFDetail,document.getElementById("tblFileDetail").style.display=""):document.getElementById("tblFileDetail").style.display="none",3==a?(document.getElementById("spanGroundTitle").innerText=
window.msgs.gtlMoveto,a=document.getElementById("tblFolder"),a.getElementsByTagName("th")[0].innerHTML=null,a.style.display=""):document.getElementById("tblFolder").style.display="none");c.style.display="table"}
function vb(){var a=p(),c=t("#tblst").G.rows;c=r(a,"TR").rowIndex-c[0].rowIndex;var b=document.getElementById("divItemenu");a=a.getBoundingClientRect();b.style.left=a.right+"px";b.style.top=(document.documentElement.scrollTop||document.body.scrollTop)+a.top+"px";b.style.display="block";b.setAttribute("rowidx",c);yb(1)}
function zb(){var a=p(),c=r(a,"DIV"),b=document.getElementById("divItemenu");var d=t("#tblst").G.rows;b=parseInt(b.getAttribute("rowidx"),10);d=d[b].getElementsByTagName("a")[0];c.style.display="";switch(a.getAttribute("wordid")){case "btnDownload":V(d)?O("noDownFolder"):(c.setAttribute("uid",d.getAttribute("uid")),c.setAttribute("uname",d.innerText),Ab(2));X();break;case "btnRename":a=document.getElementById("divNewName");c=a.getElementsByTagName("input")[0];b=d.getBoundingClientRect();c.value=d.innerText;
a.style.left=b.left+"px";a.style.top=(document.documentElement.scrollTop||document.body.scrollTop)+b.top-2+"px";c.style.width=b.width+"px";c.style.height=b.height+"px";a.style.display="block";break;case "btnMove":Bb(d.getAttribute("uid"));break;case "btnDelete":Cb(d.getAttribute("uid")),X()}}function Bb(a){if("string"==typeof a)document.getElementById("tblFolder").setAttribute("uid",a);else if(Db())document.getElementById("tblFolder").removeAttribute("uid");else return;yb(3);T(!1,!0,L[0])}
function Eb(){var a=window.event;if(13===a.keyCode){if(a.shiftKey||a.ctrlKey||a.altKey)return!0}else return!0;Fb();return!1}
function Fb(){var a=p();"INPUT"!=a.tagName&&(a=u(a,"INPUT"));if(a.value){var c=document.getElementById("divItemenu"),b=t("#tblst").G.rows;c=parseInt(c.getAttribute("rowidx"),10);var d=b[c].getElementsByTagName("a")[0];a.value!=d.innerText&&(b=hb(a.value),b={j:function(e){e?O(e.M):(d.innerText=a.value,Q("renDone"))},I:d.getAttribute("uid"),ca:b},za(b));X()}else O("noNewName")}
function Gb(){X();var a=document.getElementById("tblFolder"),c=u(a.getElementsByTagName("th")[0],"a",!0).getAttribute("uid");if(c!=L[L.length-1].m){var b=null;(a=a.getAttribute("uid"))?(b=[],b.push({m:a,v:""})):b=Db();if(b){P("moving");var d=0,e={j:function(f){f?O(f.M):(d++,d<b.length?(e.I=b[d].m,Aa(e)):(T(!0),Q("moveDone")))},I:b[d].m,F:c,oa:L[L.length-1].m};Aa(e)}}}
function Cb(a){var c=null;"string"==typeof a?(c=[],c.push({m:a,v:""})):c=Db();if(c&&confirm(window.msgs.delConfirm)){P("deleting");var b=0,d={j:function(e){e?O(e.M):(b++,b<c.length?(d.I=c[b].m,E.delete(d)):(T(!0),Q("delDone")))},I:c[b].m};E.delete(d)}}function Hb(){var a=document.getElementById("txtName").value;if(a){var c={j:function(b,d){b?O(b.M):(d.v=a,rb(t("#tblst").G,d),Q("flDone"))},L:hb(a)};0<L.length&&(c.F=L[L.length-1].m);E.A(c)}else O("noFldName")}
function Db(a){for(var c=[],b=t("#tblst").G.getElementsByTagName("input"),d=0;d<b.length;d++){var e=b[d];if("checkbox"==e.type&&e.checked){e=fa(e,"a");if(a&&V(e))return O("noDownFolder"),null;c.push({v:e.innerText,m:e.getAttribute("uid")})}}return 0>=c.length?(O("noChecks"),null):c}
function wb(a,c){var b=t("#tblFileDetail").G;yb(2);var d=tb(c),e=b.rows[0].cells[1].getElementsByTagName("span")[0],f=b.rows[0].cells[1].getElementsByTagName("img")[0],g=ba[d];d=ca[d];var h=document.getElementById("spanGroundTitle");h.innerText=window.msgs.gtlFDetail;e.style.display="";f.style.display="none";f.src="";var k=Ib(b);b.rows[1].style.display="";b.rows[2].style.display="";if(d)h.innerText=c,Jb(k,a,c),k.style.display="",e.style.display="none",b.rows[1].style.display="none",b.rows[2].style.display=
"none";else if(g){var l=new na;a=new z({na:!0,Z:H,ha:Ba(E,{m:a,V:16E4}),pa:l});a.o=function(m,n){m||n?console.log(m||n):(m=l.u(),m instanceof Uint8Array||(m=new Uint8Array(m)),g&&(f.src=window.URL.createObjectURL(new Blob([m],{type:g})),f.title=c,f.style.display="",e.style.display="none",h.innerText=c,b.rows[1].style.display="none",b.rows[2].style.display="none"))};a.start()}}function Kb(){var a=p();a&&a.src&&window.URL.revokeObjectURL(a.src)}
function Jb(a,c,b){var d=Ba(E,{m:c});const e=zb_require("videostream");a.g=c;a.l=b;a.i=new pa({na:!0,Z:H,ha:d});a.h=new e(a.i,a)}function Lb(a){var c=a.target,b=c.h;b&&!b.g&&b._elemWrapper&&b._elemWrapper._mediaSource&&(a.stopImmediatePropagation(),c.src=window.URL.createObjectURL(b._elemWrapper._mediaSource))}function X(){document.getElementById("divGround").style.display="";Ib();document.getElementById("divItemenu").style.display="";document.getElementById("divNewName").style.display=""}
function Ib(a){a||(a=t("#tblFileDetail").G);a=a.rows[0].cells[1].getElementsByTagName("video")[0];if(a.g){var c=L[L.length-1].m,b=a.l,d;N||(N=[]);for(d=0;d<N.length;d++)if(N[d].L==c){N[d].I=a.g;N[d].$=a.currentTime;break}d==N.length&&N.push({I:a.g,L:c,$:a.currentTime});delete a.g;delete a.l;I.Pa(N[d],d);mb(d,b)}a.style.display="none";a.h&&(a.h.destroy(),a.i.Ga(),delete a.h,delete a.i);return a}function ob(a){window.event.preventDefault();a=p(a);Mb(a)}
function pb(a){a=p(a);Mb(r(a,"P").getElementsByTagName("a")[0],!0)}
function Mb(a,c){document.getElementById("divHistory").style.display="";var b=a.getAttribute("fid");if(b){var d=a.getAttribute("parentId"),e=a.getAttribute("time");P("loading");var f=[],g=function(){d?E.u({aa:d,j:function(k,l){k||(l.v=ib(l.v),f.unshift(l),l._parentId==L[0].m?(f.unshift(L[0]),h()):(l._parentId==L[0]._parentId?d=void 0:d=l._parentId,g()))}}):P()},h=function(){var k=0,l=t("#tblst").da.getElementsByTagName("th")[0];l.innerHTML="";for(k=0;k<f.length;k++)qb(l,f[k],k,!0);L=f;T(!0,!1,void 0,
function(m){var n;for(n=0;n<m.length&&m[n].m!=b;n++);n<m.length&&(m=t("#tblFileDetail").G.rows[0],c?(m.setAttribute("rowidx",n),W(2,!0)):(m.getElementsByTagName("video")[0].setAttribute("ctime",e),0==n?(m.setAttribute("rowidx",1),W(1,!0)):(m.setAttribute("rowidx",n-1),W(2,!0))))})};g()}}function Nb(a){a=p(a);var c=a.getAttribute("ctime");c&&(a.removeAttribute("ctime"),a.currentTime=c)}
function nb(a){a=p(a);a=r(a,"P");var c=r(a,"DIV"),b=c.getElementsByTagName("p"),d;for(d=0;d<b.length&&b[d]!=a;d++);a.remove();N.splice(d,1);I.Oa(d);0==N.length&&(r(c,"DIV").style.display="")};const Ob=window.Worker?!0:!1;var Y=null;function Pb(a){this.h=a;this.g=[];this.o=function(c){return this.h.m==c.m};this.u=function(c){return this.h.v==c};this.l=function(c){var b;for(b=0;b<this.g.length;b++)if(this.g[b].u(c))return this.g[b];return null};this.i=function(c){var b;for(b=0;b<this.g.length;b++)if(this.g[b].o(c))return this.g[b];c=new Pb(c);this.g.push(c);return c}}var Qb=null;
function Rb(){var a=p();a.disabled=!0;Y?(a={_type:9,_rowIdx:parseInt(r(a,"TR").getAttribute("rowIdx"),10)},Y.postMessage(a)):a.setAttribute("canceled","1")}function Sb(){var a=t("#tblQueue"),c=a.da;a=a.G;var b=!1,d;for(d=0;d<a.rows.length;d++)a.rows[d].getAttribute("end")?ea(a.rows[d]):b=!0;b||ea(c)}
function Tb(a,c,b){var d=document.createElement("tr"),e=document.createElement("td"),f=document.createElement("span"),g=document.createElement("input");e.innerText=b;d.appendChild(e);e=document.createElement("td");f.innerText=window.msgs.waiting;e.appendChild(f);d.appendChild(e);e=document.createElement("td");g.type="button";g.value=window.msgs.btnCancel;g.style.display="none";g.addEventListener("click",Rb);e.appendChild(g);d.appendChild(e);d.setAttribute("rowIdx",c);a.appendChild(d)}
function Z(a,c,b){var d=a;0<=c&&(d=a.rows[c].getElementsByTagName("span")[0]);d.innerText=b}function Ub(a,c){var b=a;0<=c?(b=a.rows[c].getElementsByTagName("input")[0],a.rows[c].setAttribute("end","1")):(a=r(a,"TR"))&&a.setAttribute("end","1");b.style.display="none";window.gc&&window.gc()}
function Vb(a,c){var b=!1,d=c._rowIdx;switch(c._type){case 0:c=a.rows[d].getElementsByTagName("input")[0];a.rows[d].getElementsByTagName("span")[0].innerText="0%";c.style.display="";break;case 1:Z(a,d,c._speed+" "+Math.round(100*c._pos/c._size)+"%");break;case 2:c._finished&&Y&&Wb();Ub(a,d);c._err?Z(a,d,c._err):1==c._wtype?(Z(a,d,window.msgs.downDone),c._blob&&ha(c._blob,a.rows[d].cells[0].innerText,document.getElementById("download"))):Z(a,d,window.msgs.upDone);b=!0;break;case 3:c._finished&&Y&&
Wb(),Ub(a,d),1==c._wtype?Z(a,d,window.msgs.downCanceled):Z(a,d,window.msgs.updCanceled),b=!0}return b}function Wb(){var a=Y;Qb=Y=null;a.terminate();a.g&&T(!0)}function Xb(a){if(!Y){var c=t("#tblQueue").G;Y=new Worker("worker.js");Y.h={_token:E.h?E.h:"",_iv:H.iv.toString(CryptoJS.enc.Base64url),_key:H.key.toString(CryptoJS.enc.Base64url),_drvnm:E.o()};Y.addEventListener("message",function(b){Vb(c,b.data)})}a._cominf=Y.h;2!=a._type||Y.g||(Y.g=!0);Y.postMessage(a)}
function Yb(a,c,b){Vb(a,{_type:0,_wtype:1,_size:0,_rowIdx:c});var d=a.rows[c].getElementsByTagName("input")[0];return new Ja(function(){return d.getAttribute("canceled")?!0:!1},function(e){e._rowIdx=c;Vb(a,e)&&b()})}
function Ab(a){P();var c=[];switch(a){case 1:a=t("#tblFileDetail").G.rows[0];c.push({v:a.getElementsByTagName("span")[0].innerText,m:a.getAttribute("uid")});break;case 2:a=document.getElementById("divItemenu");c.push({v:a.getAttribute("uname"),m:a.getAttribute("uid")});break;default:if(c=Db(!0),!c)return}a=t("#tblQueue");var b=a.G;a.da.style.display="block";var d=b.rows.length,e=d;c.forEach(function(g){Tb(b,e,g.v);Ob&&Xb({_type:1,_rowIdx:e,_downinf:{_targetId:g.m}});e++});if(!Ob){var f=function(g){Yb(b,
d+g,function(){g++;g<c.length&&f(g)}).Ua(c[g].m)};f(0)}}
function Zb(a){P();var c=null;c=1===a?document.getElementById("upfolder").files:document.getElementById("upfiles").files;if(0>=c.length)O("noFiles");else{a=t("#tblQueue");var b=a.G;a.da.style.display="block";var d=b.rows.length;a=d;for(var e=[],f=0;f<c.length;f++){var g="";g=c[f].webkitRelativePath?c[f].webkitRelativePath:c[f].name;e.push({Qa:g,_file:c[f],Ba:a});Tb(b,a,g);a++}f=0;Qb||(Qb=new Pb(L[0]));var h=Qb;for(f=1;f<L.length;f++)h=h.i(L[f]);var k=function(l){var m=e[l];$b(h,m.Qa,function(n,w,
q){n?Z(b,m.Ba,JSON.stringify(n)):Ob?(Xb({_type:2,_rowIdx:m.Ba,_upinf:{_fname:w,_file:m._file,_parentId:q}}),l++,l<c.length&&k(l)):Yb(b,d+l,function(){l++;l<c.length?k(l):T(!0)}).Wa(w,m._file,q)})};k(0)}}
function $b(a,c,b){var d=c.split("/"),e=hb(d.pop()),f=a;if(0==d.length)b(!1,e,f.h.m);else{var g=!1,h=function(k){function l(q){f=q;k++;k<d.length?h(k):b(!1,e,f.h.m)}var m=d[k],n=hb(m);if(g)E.A({L:n,F:f.h.m,j:function(q,D){q?b(q,e):(D.v=m,l(f.i(D)))}});else{var w=f.l(m);w?l(w):E.l({_fname:n,F:f.h.m,j:function(q,D){q?b(q,e):0==D.length?(g=!0,h(k)):(D[0].v=m,l(f.i(D[0])))}})}};h(0)}};window.addEventListener("load",function(){window.addEventListener("scroll",function(){document.getElementById("divGround").style.top=(document.documentElement.scrollTop||document.body.scrollTop)+"px"});var a=document.getElementById("spanNotify");a.style.display="none";var c=RegExp("android","i").test(navigator.userAgent),b=0,d=document.getElementById("divSet").getElementsByTagName("input");for(b=0;b<d.length;b++)switch(a=d[b],a.getAttribute("wordid")){case "btnLogout":a.addEventListener("click",Na);
break;case "btnCancel":a.addEventListener("click",Ua);break;case "btnOk":a.addEventListener("click",Ta)}d=document.getElementById("divPwd").getElementsByTagName("span");for(b=0;b<d.length;b++)switch(a=d[b],a.getAttribute("tid")){case "spanAddRoot":a.addEventListener("click",Va);break;case "spanDeleteRoot":a.addEventListener("click",Xa);break;case "spanMoreKey":c?a.addEventListener("click",$a):a.style.display="none";break;case "spanClearKey":c?a.addEventListener("click",Wa):a.style.display="none"}d=
document.getElementById("divPwd").getElementsByTagName("input");for(b=0;b<d.length;b++)switch(a=d[b],a.getAttribute("wordid")){case "btnCancel":a.addEventListener("click",Za);break;case "btnOk":a.addEventListener("click",ab);break;case "btnDropDb":a.addEventListener("click",gb)}d=document.getElementById("divHeader").getElementsByTagName("input");for(b=0;b<d.length;b++)switch(a=d[b],a.getAttribute("wordid")){case "btnSet":a.addEventListener("click",Oa)}document.getElementById("chkAll").addEventListener("click",
xb);d=document.getElementById("divAction").getElementsByTagName("input");for(b=0;b<d.length;b++)switch(a=d[b],a.getAttribute("wordid")){case "btnDownfs":a.addEventListener("click",Ab);break;case "btnMovefs":a.addEventListener("click",Bb);break;case "btnDelfs":a.addEventListener("click",Cb);break;case "btnHistory":a.addEventListener("click",function(){var e=document.getElementById("divHistory");e.style.display="block"==e.style.display?"":"block"});break;case "btnNewFldr":a.addEventListener("click",
Hb);break;case "btnUpfs":a.addEventListener("click",Zb);break;case "btnUpfld":a.addEventListener("click",function(){Zb(1)})}a=document.getElementById("tblQueue").getElementsByTagName("th")[0];a.getElementsByTagName("label")[0].addEventListener("click",Sb);document.getElementById("divItemenu").addEventListener("click",zb);a=document.getElementById("divNewName");a.getElementsByTagName("input")[0].addEventListener("keypress",Eb);a.getElementsByTagName("span")[0].addEventListener("click",Fb);a=document.getElementById("divGround").firstElementChild;
a.addEventListener("click",X);a.firstElementChild.addEventListener("click",function(e){e.stopPropagation()});a=fa(document.getElementById("spanGroundTitle"),"label");a.addEventListener("click",X);c=document.getElementById("tblFileDetail").getElementsByTagName("tbody")[0].rows;a=c[0];a.cells[0].addEventListener("click",function(){W(1)});a.cells[2].addEventListener("click",function(){W(2)});a.getElementsByTagName("img")[0].addEventListener("load",Kb);a=a.getElementsByTagName("video")[0];a.addEventListener("canplay",
Nb);a.addEventListener("ended",function(){W(2,!0)});a.addEventListener("error",Lb);d=c[2].getElementsByTagName("input");for(b=0;b<d.length;b++)switch(a=d[b],a.getAttribute("wordid")){case "btnDownload":a.addEventListener("click",function(){Ab(1)})}d=document.getElementById("tblFolder").getElementsByTagName("input");for(b=0;b<d.length;b++)switch(a=d[b],a.getAttribute("wordid")){case "btnOk":a.addEventListener("click",Gb)}jb()});
