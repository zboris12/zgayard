window=self;self.l=1;self.h=[];self.g=[];self.j="";function c(){for(;self.g.length<self.l&&0<self.h.length;){var a=self.h.shift();self.j&&(a.cominf.gtoken=self.j);var b=new Worker("worker-sub.js");b.i=a;b.addEventListener("message",d);self.g.push(b);b.postMessage(b.i)}}
function d(a){var b=a.target.i;a=a.data;a.rowIdx=b.rowIdx;a.gtoken&&(self.j=a.gtoken);if(2==a.type||3==a.type)b=e(b),0<=b&&(self.g[b].terminate(),self.g.splice(b,1),c()),0==self.h.length&&0==self.g.length&&(a.fined=!0);self.postMessage(a)}function e(a){var b;for(b=0;b<self.g.length;b++)if(self.g[b].i.rowIdx==a.rowIdx)return b;return-1}
self.addEventListener("message",function(a){a=a.data;switch(a.type){case 0:a.palcnt&&(self.l=a.palcnt);break;case 1:case 2:self.h.push(a);c();break;default:var b=e(a);0<=b&&self.g[b].postMessage(a)}});
