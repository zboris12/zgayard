window=self;self.j=1;self.h=[];self.g=[];function c(){for(;self.g.length<self.j&&0<self.h.length;){var a=self.h.shift(),b=new Worker("worker-sub.js");b.i=a;b.addEventListener("message",d);self.g.push(b);b.postMessage(b.i)}}function d(a){var b=a.target.i;a=a.data;a._rowIdx=b._rowIdx;if(2==a._type||3==a._type)b=e(b),0<=b&&(self.g[b].terminate(),self.g.splice(b,1),c()),0==self.h.length&&0==self.g.length&&(a._finished=!0);self.postMessage(a)}
function e(a){var b;for(b=0;b<self.g.length;b++)if(self.g[b].i._rowIdx==a._rowIdx)return b;return-1}self.addEventListener("message",function(a){a=a.data;switch(a._type){case 0:a._palcnt&&(self.j=a._palcnt);break;case 1:case 2:self.h.push(a);c();break;default:var b=e(a);0<=b&&self.g[b].postMessage(a)}});
